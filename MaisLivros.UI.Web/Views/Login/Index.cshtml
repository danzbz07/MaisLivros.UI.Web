@model UsuarioMOD
@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
}

<div class="container-fluid h-100">
    <div class="row d-flex justify-content-center align-items-center h-100 pb-3">
        <div class="col-md-9 col-lg-6 col-xl-5 text-center text-white">
            <h1>+ Livros</h1>
            <h2>Aprenda</h2>
            <h2>e Compartilhe</h2>
        </div>
        <div class="col-md-8 col-lg-6 col-xl-6 offset-xl-1 card h-100 bg-light">
            @using (Html.BeginForm("Index", "Login", FormMethod.Post, new { @id = "form-login" }))
            {
                <div class="col-sm-12 px-sm-3 px-lg-5">
                    <h2 class="text-dark py-5">Crie sua conta</h2>

                    <div class="tab">
                        <div class="row mb-3">
                            <div class="col-12">
                                @Html.Label("Nome Completo", new { @class = "font-weight-bold" }) <span class="text-warning display-17px font-weight-bold">*</span>
                                @Html.TextBoxFor(x => x.TxNome, "", new { @class = "form-control", @placeholder = "Digite o Nome Completo", @required = true })
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-12">
                                @Html.Label("E-mail", new { @class = "font-weight-bold" }) <span class="text-warning display-17px font-weight-bold">*</span>
                                @Html.TextBoxFor(x => x.TxEmail, "", new { @class = "form-control", @placeholder = "Digite o Email", @required = true })
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-12">
                                @Html.Label("Login:", new { @class = "font-weight-bold" }) <span class="text-warning display-17px font-weight-bold">*</span>
                                @Html.TextBoxFor(x => x.TxEmail, "", new { @class = "form-control", @placeholder = "Digite o Login", @required = true })
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-12">
                                @Html.Label("Senha", new { @class = "font-weight-bold" }) <span class="text-warning display-17px font-weight-bold">*</span>
                                @Html.TextBoxFor(x => x.TxSenha, "", new { @class = "form-control", @placeholder = "Digite a senha", @type = "password", @required = true })
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <p class="text-center">Já possui uma conta ? <a href="~/Entrar">Clique aqui</a></p>
                            </div>
                        </div>
                    </div>
                    <div class="tab">
                        <div class="row pb-3">
                            <div class="col-12">
                                <label class="font-weight-bold">Tipo de Conta</label> <span class="text-warning display-17px font-weight-bold">*</span>
                                <div class="form-check p-lg-0">
                                    <input class="form-check-input" type="radio" name="tpConta" id="pessoaFisica" value="F" checked>
                                    <label class="form-check-label" for="pessoaFisica">
                                        Pessoa Fisica
                                    </label>
                                </div>
                                <div class="form-check p-lg-0">
                                    <input class="form-check-input" type="radio" name="tpConta" id="pessoaJuridica" value="J">
                                    <label class="form-check-label" for="pessoaJuridica">
                                        Pessoa Juridica
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-12" id="Cpf">
                                @Html.Label("CPF:", new { @class = "font-weight-bold" }) <span class="text-warning display-17px font-weight-bold">*</span>
                                @Html.TextBoxFor(x => x.TxEmail, "", new { @class = "form-control", @placeholder = "Digite o CPF", @required = true })
                            </div>
                            <div class="col-12" id="Cnpj">
                                @Html.Label("CNPJ:", new { @class = "font-weight-bold" }) <span class="text-warning display-17px font-weight-bold">*</span>
                                @Html.TextBoxFor(x => x.TxEmail, "", new { @class = "form-control", @placeholder = "Digite o CNPJ", @required = true })
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-12">
                                @Html.Label("Endereço:", new { @class = "font-weight-bold" }) <span class="text-warning display-17px font-weight-bold">*</span>
                                @Html.TextBoxFor(x => x.TxEmail, "", new { @class = "form-control", @placeholder = "Digite o Endereço", @required = true })
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-12">
                                @Html.Label("Telefone:", new { @class = "font-weight-bold" }) <span class="text-warning display-17px font-weight-bold">*</span>
                                @Html.TextBoxFor(x => x.TxEmail, "", new { @class = "form-control", @placeholder = "Digite o Telefone", @required = true })
                            </div>
                        </div>
                    </div>
                    <div style="overflow:auto;">
                        <div style="float:right;">
                            <button type="button" class="btn btn-secondary" id="prevBtn" onclick="nextPrev(-1)">Voltar</button>
                            <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextPrev(1)">Continuar</button>
                            <button type="submit" class="btn btn-primary" id="submit" style="display: none;">Entrar</button>
                        </div>
                    </div>

                    <div style="text-align:center;margin-top:40px;">
                        <span class="step"></span>
                        <span class="step"></span>
                    </div>
                </div>
            }
        </div>
    </div>
</div>


<script>
    $('#Cnpj').fadeOut()

    $('input[type=radio][name=tpConta]').change(function () {
        if (this.value == 'F') {
            $('#Cpf').fadeIn("slow")
            $('#Cnpj').fadeOut("slow")
        }
        else if (this.value == 'J') {
            $('#Cnpj').fadeIn("slow")
            $('#Cpf').fadeOut("slow")
        }
    });


    var TabAtual = 0;
    mostrarTab(TabAtual);

    function mostrarTab(n) {
        var x = document.getElementsByClassName("tab");
        x[n].style.display = "block";
        if (n == 0) {
            document.getElementById("prevBtn").style.display = "none";
        } else {
            document.getElementById("prevBtn").style.display = "inline";
        }
        if (n == (x.length - 1)) {
            $("#nextBtn").hide();
            $("#submit").show();
        } else {
            $("#nextBtn").show();
            $("#submit").hide();
            document.getElementById("nextBtn").innerHTML = "Continuar";
        }
        fixStepIndicator(n)
    }

    function nextPrev(n) {
        var x = document.getElementsByClassName("tab");
        if (n == 1 && !validarForm()) return false;
        x[TabAtual].style.display = "none";
        TabAtual = TabAtual + n;
        if (TabAtual >= x.length) {
            document.getElementById("form-login").submit();
            return false;
        }
        mostrarTab(TabAtual);
    }

    function validarForm() {
        var x, y, i, valid = true;
        x = document.getElementsByClassName("tab");
        y = x[TabAtual].getElementsByTagName("input");
        for (i = 0; i < y.length; i++) {
            if (y[i].value == "") {
                y[i].className += " invalid";
                valid = false;
            }
        }
        if (valid) {
            document.getElementsByClassName("step")[TabAtual].className += " finish";
        }
        return valid;
    }

    function fixStepIndicator(n) {
        var i, x = document.getElementsByClassName("step");
        for (i = 0; i < x.length; i++) {
            x[i].className = x[i].className.replace(" active", "");
        }
        x[n].className += " active";
    }
</script>